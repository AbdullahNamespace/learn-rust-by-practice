// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ## ğŸ”· Problem 22: circle_area_inscribed_in_isosceles_triangle.rs
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// **Category:** Geometry / Mathematics | Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© / Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª
// **Difficulty:** Medium | Ù…ØªÙˆØ³Ø·
// **Source:** programmingadvices.com
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ“ DESCRIPTION | Ø§Ù„ÙˆØµÙ
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// EN:
// Write a program that calculates the area of a circle inscribed in an isosceles
// triangle given the equal side (A) and base (B).
// The program should:
// 1. Read the equal side length (A) and base (B) from the user
// 2. Calculate the area using the formula: Area = Ï€ Ã— (BÂ²/4) Ã— ((2A-B)/(2A+B))
// 3. Display the computed area
//
// An isosceles triangle has two equal sides and one different side (base).
// The inscribed circle (incircle) touches all three sides of the triangle.
//
// AR:
// Ø§ÙƒØªØ¨ Ø¨Ø±Ù†Ø§Ù…Ø¬Ù‹Ø§ ÙŠØ­Ø³Ø¨ Ù…Ø³Ø§Ø­Ø© Ø¯Ø§Ø¦Ø±Ø© Ù…Ø­Ø§Ø·Ø© Ø¨Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø³Ø§Ù‚ÙŠÙ†
// Ù…Ø¹Ø·Ù‰ Ø§Ù„Ø¶Ù„Ø¹ Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠ (A) ÙˆØ§Ù„Ù‚Ø§Ø¹Ø¯Ø© (B).
// ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:
// 1. Ù‚Ø±Ø§Ø¡Ø© Ø·ÙˆÙ„ Ø§Ù„Ø¶Ù„Ø¹ Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠ (A) ÙˆØ§Ù„Ù‚Ø§Ø¹Ø¯Ø© (B) Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
// 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙŠØºØ©: Ø§Ù„Ù…Ø³Ø§Ø­Ø© = Ï€ Ã— (BÂ²/4) Ã— ((2A-B)/(2A+B))
// 3. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©
//
// Ø§Ù„Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø³Ø§Ù‚ÙŠÙ† Ù„Ù‡ Ø¶Ù„Ø¹Ø§Ù† Ù…ØªØ³Ø§ÙˆÙŠØ§Ù† ÙˆØ¶Ù„Ø¹ Ù…Ø®ØªÙ„Ù (Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©).
// Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ù…Ø­Ø§Ø·Ø© (Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©) ØªÙ„Ø§Ù…Ø³ Ø¬Ù…ÙŠØ¹ Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ø«Ù„Ø§Ø«Ø©.
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ’¡ EXAMPLES | Ø§Ù„Ø£Ù…Ø«Ù„Ø©
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// Example 1:
// Input:  Side A = 5.0, Base B = 6.0
// Output: Circle Area â‰ˆ 7.07
//   Why:  Area = Ï€ Ã— (36/4) Ã— ((10-6)/(10+6)) = Ï€ Ã— 9 Ã— (4/16) = Ï€ Ã— 2.25 â‰ˆ 7.07
//
// Example 2:
// Input:  Side A = 10.0, Base B = 8.0
// Output: Circle Area â‰ˆ 21.54
//   Why:  Area = Ï€ Ã— (64/4) Ã— ((20-8)/(20+8)) = Ï€ Ã— 16 Ã— (12/28) â‰ˆ 21.54
//
// Example 3 (Edge Case):
// Input:  Side A = 5.0, Base B = 5.0 (equilateral triangle)
// Output: Circle Area â‰ˆ 6.54
//   Why:  Area = Ï€ Ã— (25/4) Ã— ((10-5)/(10+5)) = Ï€ Ã— 6.25 Ã— (5/15) â‰ˆ 6.54
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// âš ï¸ CONSTRAINTS | Ø§Ù„Ù‚ÙŠÙˆØ¯
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// â€¢ Both A and B must be positive (A > 0, B > 0) | ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† A Ùˆ B Ù…ÙˆØ¬Ø¨ÙŠÙ†
// â€¢ Must satisfy triangle inequality: 2A > B | ÙŠØ¬Ø¨ ØªØ­Ù‚Ù‚ Ù…ØªØ¨Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø«Ù„Ø«: 2A > B
// â€¢ Input should be valid floating-point numbers | ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ø¹Ø´Ø±ÙŠØ© ØµØ­ÙŠØ­Ø©
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ”§ FUNCTION SIGNATURES | ØªÙˆÙ‚ÙŠØ¹Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù„
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// fn read_triangle_data() -> (f64, f64)
// fn circle_area_by_isosceles_triangle(side_a: f64, base_b: f64) -> f64
// fn validate_isosceles_triangle(side_a: f64, base_b: f64) -> bool
// fn print_result(area: f64)
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

use std::io::{self, Write};

const PI: f64 = std::f64::consts::PI;

// ======================
//     INPUT FUNCTIONS
// ======================

fn read_positive_float(prompt: &str) -> f64 {
    loop {
        let input = read_number::<f64>(prompt);

        if input > 0.0 {
            return input;
        }

        println!("Error: invalid input, please enter a positive number!");
    }
}

fn read_triangle_data() -> (f64, f64) {
    loop {
        let side_a = read_positive_float("Enter Side (a): ");
        let base_b = read_positive_float("Enter Base (B): ");

        if validate_isosceles_triangle(side_a, base_b) {
            return (side_a, base_b);
        }

        println!("Error: Invalid triangle! Must satisfy: 2A > B");
        println!("Please enter valid values.\n");
    }
}

// ======================
//   PROCESSING FUNCTIONS
// ======================

fn validate_isosceles_triangle(side_a: f64, base_b: f64) -> bool {
    2.0 * side_a > base_b
}

fn circle_area_by_isosceles_triangle(side_a: f64, base_b: f64) -> f64 {
    PI * (base_b.powi(2) / 4.0) * ((2.0 * side_a - base_b) / (2.0 * side_a + base_b))
}

// ======================
//     OUTPUT FUNCTIONS
// ======================

fn print_result(side_a: f64, base_b: f64) {
    println!("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    println!("â•‘        Circle Area (by Circumference)              â•‘");
    println!("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
    println!("â•‘  Side (A):     {:>20.6}                â•‘", side_a);
    println!("â•‘  Base_b (B):   {:>20.6}                â•‘", base_b);
    println!("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
    println!(
        "â•‘  Calculated Area:   {:>15.6}                â•‘",
        circle_area_by_isosceles_triangle(side_a, base_b)
    );
    println!("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
}

// ======================
//         MAIN
// ======================

fn main() {
    let (side_a, base_b) = read_triangle_data();
    print_result(side_a, base_b);
}

// ======================
//   UTILITY FUNCTIONS
// ======================

fn read_string(prompt: &str) -> Result<String, io::Error> {
    print!("{}", prompt);
    io::stdout().flush()?;

    let mut input = String::new();
    io::stdin().read_line(&mut input)?;

    Ok(input.trim().to_string())
}

fn read_number<T: std::str::FromStr>(prompt: &str) -> T {
    loop {
        let input = match read_string(prompt) {
            Ok(value) => value,
            Err(_) => {
                println!("Error: invalid input, I/O please enter again!");
                continue;
            }
        };

        match input.trim().parse() {
            Ok(value) => return value,
            Err(_) => {
                println!("Error: invalid input,please enter a number!");
            }
        }
    }
}
