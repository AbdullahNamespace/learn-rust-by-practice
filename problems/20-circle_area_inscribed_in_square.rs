// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ## ğŸ”· Problem 20: circle_area_inscribed_in_square.rs
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// **Category:** Geometry / Mathematics | Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© / Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª
// **Difficulty:** Easy | Ø³Ù‡Ù„
// **Source:** programmingadvices.com
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ“ DESCRIPTION | Ø§Ù„ÙˆØµÙ
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// EN:
// Write a program that calculates the area of a circle inscribed inside a
// square. The circle touches all four sides of the square. The program should:
// 1. Read the side length (A) of the square from the user
// 2. Calculate the circle's area using the formula: Area = (Ï€ Ã— AÂ²) / 4
// 3. Display the computed area
//
// When a circle is inscribed in a square, the diameter of the circle equals
// the side length of the square (D = A). Therefore, the circle's radius is
// R = A/2, and using Area = Ï€ Ã— RÂ², we get: Area = Ï€ Ã— (A/2)Â² = (Ï€ Ã— AÂ²) / 4
//
// AR:
// Ø§ÙƒØªØ¨ Ø¨Ø±Ù†Ø§Ù…Ø¬Ù‹Ø§ ÙŠØ­Ø³Ø¨ Ù…Ø³Ø§Ø­Ø© Ø¯Ø§Ø¦Ø±Ø© Ù…Ø­Ø§Ø·Ø© Ø¨Ù…Ø±Ø¨Ø¹. Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© ØªÙ„Ø§Ù…Ø³ Ø¬Ù…ÙŠØ¹ Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…Ø±Ø¨Ø¹
// Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©. ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:
// 1. Ù‚Ø±Ø§Ø¡Ø© Ø·ÙˆÙ„ Ø¶Ù„Ø¹ Ø§Ù„Ù…Ø±Ø¨Ø¹ (A) Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
// 2. Ø­Ø³Ø§Ø¨ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙŠØºØ©: Ø§Ù„Ù…Ø³Ø§Ø­Ø© = (Ï€ Ã— AÂ²) / 4
// 3. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©
//
// Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ù…Ø­Ø§Ø·Ø© Ø¨Ù…Ø±Ø¨Ø¹ØŒ ÙØ¥Ù† Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© ÙŠØ³Ø§ÙˆÙŠ Ø·ÙˆÙ„ Ø¶Ù„Ø¹ Ø§Ù„Ù…Ø±Ø¨Ø¹ (D = A).
// Ù„Ø°Ù„ÙƒØŒ Ù†ØµÙ Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ù‡Ùˆ R = A/2ØŒ ÙˆØ¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø­Ø© = Ï€ Ã— RÂ²ØŒ Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰:
// Ø§Ù„Ù…Ø³Ø§Ø­Ø© = Ï€ Ã— (A/2)Â² = (Ï€ Ã— AÂ²) / 4
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ’¡ EXAMPLES | Ø§Ù„Ø£Ù…Ø«Ù„Ø©
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// Example 1:
// Input:  Square side A = 10.0
// Output: Circle Area â‰ˆ 78.54
//   Why:  The inscribed circle has diameter = 10.0 (radius = 5.0)
//         Area = (Ï€ Ã— 10Â²) / 4 = (3.14159 Ã— 100) / 4 = 78.53975
//
// Example 2:
// Input:  Square side A = 20.0
// Output: Circle Area â‰ˆ 314.16
//   Why:  The inscribed circle has diameter = 20.0 (radius = 10.0)
//         Area = (Ï€ Ã— 20Â²) / 4 = (3.14159 Ã— 400) / 4 = 314.159
//
// Example 3 (Edge Case):
// Input:  Square side A = 2.0
// Output: Circle Area â‰ˆ 3.14
//   Why:  The inscribed circle has diameter = 2.0 (radius = 1.0)
//         Area = (Ï€ Ã— 2Â²) / 4 = Ï€ â‰ˆ 3.14159 (unit circle)
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// âš ï¸ CONSTRAINTS | Ø§Ù„Ù‚ÙŠÙˆØ¯
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// â€¢ Square side A must be positive (A > 0) | ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¶Ù„Ø¹ Ø§Ù„Ù…Ø±Ø¨Ø¹ A Ù…ÙˆØ¬Ø¨Ø§Ù‹
// â€¢ The circle's diameter equals the square's side (D = A) | Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© ÙŠØ³Ø§ÙˆÙŠ Ø¶Ù„Ø¹ Ø§Ù„Ù…Ø±Ø¨Ø¹
// â€¢ Input should be a valid floating-point number | ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù…Ø§Ù‹ Ø¹Ø´Ø±ÙŠØ§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ”§ FUNCTION SIGNATURES | ØªÙˆÙ‚ÙŠØ¹Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù„
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// fn read_square_side() -> f64
// fn calculate_inscribed_circle_area(square_side: f64) -> f64
// fn print_circle_area(area: f64)
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

use std::io::{self, Write};

// ======================
//      CONSTRAINT
// ======================

const PI: f64 = std::f64::consts::PI;

// ======================
//     INPUT FUNCTIONS
// ======================

fn read_square_side() -> f64 {
    loop {
        let input = read_number::<f64>("Enter square side length: ");

        if input > 0.0 {
            return input;
        }

        println!("Error: invalid input, please enter positive number!");
    }
}

// ======================
//   PROCESSING FUNCTIONS
// ======================

fn calculate_inscribed_circle_area(square_side: f64) -> f64 {
    PI * square_side.powi(2) / 4.0
}

// ======================
//     OUTPUT FUNCTIONS
// ======================

fn print_circle_area(square_side: f64) {
    println!("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    println!("â•‘      Circle Area (by Diameter)           â•‘");
    println!("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
    println!("â•‘  square_side (D):   {:>15.6}         â•‘", square_side);
    println!("â•‘  Ï€ (Pi):         {:>15.6}         â•‘", PI);
    println!("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
    println!(
        "â•‘  Area = (Ï€ Ã— DÂ²)/4 = {:>8.6} Ã— {:.2}Â² / 4 â•‘",
        PI, square_side
    );
    println!(
        "â•‘  Area =             {:>15.6}      â•‘",
        calculate_inscribed_circle_area(square_side)
    );
    println!("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
}

// ======================
//         MAIN
// ======================

fn main() {
    let square_side = read_square_side();

    print_circle_area(square_side);
}

// ======================
//   UTILITY FUNCTIONS
// ======================

fn read_string(prompt: &str) -> Result<String, io::Error> {
    print!("{}", prompt);
    io::stdout().flush()?;

    let mut input = String::new();
    io::stdin().read_line(&mut input)?;

    Ok(input.trim().to_string())
}

fn read_number<T: std::str::FromStr>(prompt: &str) -> T {
    loop {
        let input = match read_string(prompt) {
            Ok(value) => value,
            Err(_) => {
                println!("Error: invalid input I/O!");
                continue;
            }
        };

        match input.trim().parse() {
            Ok(value) => return value,
            Err(_) => {
                println!("Error: invalid input, please enter a valid number!");
            }
        }
    }
}
