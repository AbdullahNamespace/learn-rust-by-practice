// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ## ğŸ”· Problem 23: circumcircle_area.rs
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// **Category:** Geometry | Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©
// **Difficulty:** Easy | Ø³Ù‡Ù„
// **Source:** University / Algorithm Course
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ“ DESCRIPTION | Ø§Ù„ÙˆØµÙ
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// EN:
// Write a program to calculate the area of the circumscribed circle (circumcircle)
// around a triangle. The program reads the lengths of the three sides (a, b, c)
// and computes the circle area using the following derived formula:
//
// 1. Calculate semi-perimeter (P): P = (a + b + c) / 2
// 2. Calculate Triangle Area (S) using Heron's Formula: S = sqrt(P(P-a)(P-b)(P-c))
// 3. Calculate Circumradius (R): R = (a * b * c) / (4 * S)
// 4. Calculate Circle Area: Area = PI * R^2
//
// AR:
// Ø§ÙƒØªØ¨ Ø¨Ø±Ù†Ø§Ù…Ø¬Ø§Ù‹ Ù„Ø­Ø³Ø§Ø¨ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ù…Ø­ÙŠØ·Ø© (Circumcircle) Ø¨Ù…Ø«Ù„Ø«.
// ÙŠÙ‚Ø±Ø£ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø£Ø·ÙˆØ§Ù„ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ø«Ù„Ø§Ø«Ø© (a, b, c) ÙˆÙŠØ­Ø³Ø¨ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©
// Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©:
//
// 1. Ø­Ø³Ø§Ø¨ Ù†ØµÙ Ø§Ù„Ù…Ø­ÙŠØ· (P): P = (a + b + c) / 2
// 2. Ø­Ø³Ø§Ø¨ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø«Ù„Ø« (S) Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙŠØºØ© Ù‡ÙŠØ±ÙˆÙ†: S = Ø¬Ø°Ø±(P(P-a)(P-b)(P-c))
// 3. Ø­Ø³Ø§Ø¨ Ù†ØµÙ Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ù…Ø­ÙŠØ·Ø© (R): R = (a * b * c) / (4 * S)
// 4. Ø­Ø³Ø§Ø¨ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©: Ø§Ù„Ù…Ø³Ø§Ø­Ø© = Ø· * Ù†Ù‚^2
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ’¡ EXAMPLES | Ø§Ù„Ø£Ù…Ø«Ù„Ø©
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// Example 1:
// Input:  3 4 5
// Output: 19.6349...
//   Why:    P=6, S=6, R=30/24=2.5, Area â‰ˆ 19.63
//
// Example 2:
// Input:  6 6 6
// Output: 37.6991...
//   Why:    P=9, Sâ‰ˆ15.588, Râ‰ˆ3.464, Area â‰ˆ 37.69
//
// Example 3:
// Input:  13 14 15
// Output: 207.388...
//   Why:    P=21, S=84, R=8.125, Area = pi * (8.125)^2 â‰ˆ 207.39
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// âš ï¸ CONSTRAINTS | Ø§Ù„Ù‚ÙŠÙˆØ¯
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// â€¢ 1 <= a, b, c <= 10^3 | Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø£Ø±Ù‚Ø§Ù… Ù…ÙˆØ¬Ø¨Ø©
// â€¢ Valid Triangle | Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ØªØ´ÙƒÙ„ Ù…Ø«Ù„Ø«Ø§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹
// â€¢ Precision | Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ø¯Ù‚Ø© Ø¹Ø´Ø±ÙŠØ© (f64)
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ğŸ”§ FUNCTION SIGNATURES | ØªÙˆÙ‚ÙŠØ¹Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù„
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//
// fn read_triangle_data() -> (f64, f64, f64)
// fn circle_area_by_triangle(a: f64, b: f64, c: f64) -> f64
// fn print_result(side_a: f64, side_b: f64, side_c: f64)
//
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

use std::io::{self, Write};

// ======================
//       CONSTRAINT
// ======================

const PI: f64 = std::f64::consts::PI;

// ======================
//     INPUT FUNCTIONS
// ======================

fn read_positive_float(prompt: &str) -> f64 {
    loop {
        let input = read_number::<f64>(prompt);

        if input > 0.0 {
            return input;
        }

        println!("Error: invalid input, please enter a positive float number!");
    }
}

fn read_triangle_data() -> (f64, f64, f64) {
    let side_a = read_positive_float("Please enter a side A: ");
    let side_b = read_positive_float("Please enter a side B: ");
    let side_c = read_positive_float("Please enter a side C: ");

    (side_a, side_b, side_c)
}

// ======================
//   PROCESSING FUNCTIONS
// ======================

fn circle_area_by_triangle(side_a: f64, side_b: f64, side_c: f64) -> f64 {
    let semi_perimeter = (side_a + side_b + side_c) / 2.0;

    let triangle_area = (semi_perimeter
        * (semi_perimeter - side_a)
        * (semi_perimeter - side_b)
        * (semi_perimeter - side_c))
        .sqrt();

    let circumradius = (side_a * side_b * side_c) / (4.0 * triangle_area);

    PI * circumradius.powi(2)
}

// ======================
//     OUTPUT FUNCTIONS
// ======================

fn print_result(area: f64) {
    println!("area is {}", area);
}

// ======================
//         MAIN
// ======================

fn main() {
    let (side_a, side_b, side_c) = read_triangle_data();

    print_result(circle_area_by_triangle(side_a, side_b, side_c));
}

// ======================
//   UTILITY FUNCTIONS
// ======================

fn read_string(prompt: &str) -> Result<String, io::Error> {
    print!("{}", prompt);
    io::stdout().flush()?;

    let mut input = String::new();
    io::stdin().read_line(&mut input)?;

    Ok(input.trim().to_string())
}

fn read_number<T: std::str::FromStr>(prompt: &str) -> T {
    loop {
        let input = match read_string(prompt) {
            Ok(value) => value,
            Err(_) => {
                println!("Error: invalid input I/O!");
                continue;
            }
        };

        match input.trim().parse() {
            Ok(value) => return value,
            Err(_) => {
                println!("Error: invalid input, please enter a valid number!");
            }
        }
    }
}
